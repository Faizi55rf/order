<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vansales Order Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Malayalam:wght@400;500;700&display=swap');
        
        body {
            font-family: Arial, sans-serif;
            max-width: 100%;
            padding: 10px;
            background-color: #f5f5f5;
            margin: 0;
        }
        .malayalam {
            font-family: 'Noto Sans Malayalam', sans-serif;
        }
        .form-container {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 60px;
        }
        h1 {
            color: #075e54;
            text-align: center;
            font-size: 20px;
            margin-bottom: 15px;
        }
        h2 {
            color: #128c7e;
            font-size: 16px;
            margin-top: 20px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .category-toggle {
            font-size: 20px;
            cursor: pointer;
            user-select: none;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        input[type="number"] {
            width: 60px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .customer-info {
            margin-bottom: 20px;
        }
        .customer-info input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        .submit-btn {
            background-color: #25D366;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 100;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        .submit-btn:hover {
            background-color: #128C7E;
        }
        .item-with-qty {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .item-name {
            flex-grow: 1;
            padding-right: 10px;
        }
        .category-container {
            margin-bottom: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
        }
        .category-header {
            background-color: #f0f0f0;
            padding: 10px;
            cursor: pointer;
            user-select: none;
        }
        .category-content {
            padding: 10px;
            display: none;
        }
        .active .category-content {
            display: block;
        }
        .quick-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        .action-btn {
            background-color: #128c7e;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
        }
        .search-container {
            margin-bottom: 15px;
        }
        #searchInput {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        .highlight {
            background-color: #ffffcc;
        }
        .floating-back-top {
            position: fixed;
            bottom: 60px;
            right: 20px;
            background-color: #075e54;
            color: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 99;
        }
        .language-toggle {
            position: fixed;
            top: 15px;
            right: 15px;
            background-color: #075e54;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="form-container">
        <button class="language-toggle" id="languageToggle">മലയാളം</button>
        <h1 id="formTitle">VANSALES ORDER FORM</h1>
        
        <div class="customer-info">
            <h2 id="customerInfoTitle">CUSTOMER INFORMATION</h2>
            <input type="text" placeholder="Customer Name" id="customerName">
            <input type="text" placeholder="Delivery Date (DD/MM/YYYY)" id="deliveryDate">
        </div>

        <div class="quick-actions">
            <button class="action-btn" onclick="loadLastOrder()" id="loadLastOrderBtn">Load Last Order</button>
            <button class="action-btn" onclick="clearForm()" id="clearFormBtn">Clear Form</button>
        </div>

        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search products...">
        </div>
        
        <!-- BREADS CATEGORY -->
        <div class="category-container" id="breadCategory">
            <div class="category-header" onclick="toggleCategory('breadItems')">
                <h2><span id="breadsTitle">BREADS</span> <span class="category-toggle">+</span></h2>
            </div>
            <div class="category-content" id="breadItems">
                <div class="item-with-qty">
                    <span class="item-name" data-en="ARABIC BREAD LARGE" data-ml="ലാര്ജ് അറബിക് ബ്രെഡ്">ARABIC BREAD LARGE</span>
                    <input type="number" min="0" data-product="ARABIC BREAD LARGE">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="ARABIC BREAD SMALL WHITE" data-ml="സ്മോള്‍ വൈറ്റ് അറബിക് ബ്രെഡ്">ARABIC BREAD SMALL WHITE</span>
                    <input type="number" min="0" data-product="ARABIC BREAD SMALL WHITE">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="ARABIC BREAD LARGE BROWN" data-ml="ലാര്ജ് ബ്രൗണ്‍ അറബിക് ബ്രെഡ്">ARABIC BREAD LARGE BROWN</span>
                    <input type="number" min="0" data-product="ARABIC BREAD LARGE BROWN">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="ARABIC BREAD SMALL BROWN" data-ml="സ്മോള്‍ ബ്രൗണ്‍ അറബിക് ബ്രെഡ്">ARABIC BREAD SMALL BROWN</span>
                    <input type="number" min="0" data-product="ARABIC BREAD SMALL BROWN">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SHAWARMA BREAD 1X25" data-ml="ഷവര്മാ ബ്രെഡ് 1X25">SHAWARMA BREAD 1X25</span>
                    <input type="number" min="0" data-product="SHAWARMA BREAD 1X25">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="FELAFIL BREAD 1X25" data-ml="ഫലാഫെല്‍ ബ്രെഡ് 1X25">FELAFIL BREAD 1X25</span>
                    <input type="number" min="0" data-product="FELAFIL BREAD 1X25">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CHAPPATI" data-ml="ചപ്പാത്തി">CHAPPATI</span>
                    <input type="number" min="0" data-product="CHAPPATI">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SLICED BREAD MEDIUM WHITE" data-ml="മീഡിയം വൈറ്റ് സ്ലൈസ്ഡ് ബ്രെഡ്">SLICED BREAD MEDIUM WHITE</span>
                    <input type="number" min="0" data-product="SLICED BREAD MEDIUM WHITE">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SLICED BREAD MEDIUM BROWN" data-ml="മീഡിയം ബ്രൗണ്‍ സ്ലൈസ്ഡ് ബ്രെഡ്">SLICED BREAD MEDIUM BROWN</span>
                    <input type="number" min="0" data-product="SLICED BREAD MEDIUM BROWN">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SLICED BREAD JUMBO WHITE" data-ml="ജംബോ വൈറ്റ് സ്ലൈസ്ഡ് ബ്രെഡ്">SLICED BREAD JUMBO WHITE</span>
                    <input type="number" min="0" data-product="SLICED BREAD JUMBO WHITE">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SLICED BREAD JUMBO BROWN" data-ml="ജംബോ ബ്രൗണ്‍ സ്ലൈസ്ഡ് ബ്രെഡ്">SLICED BREAD JUMBO BROWN</span>
                    <input type="number" min="0" data-product="SLICED BREAD JUMBO BROWN">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SLICED BREAD SMALL WHITE" data-ml="സ്മോള്‍ വൈറ���്റ് സ്ലൈസ്ഡ് ബ്രെഡ്">SLICED BREAD SMALL WHITE</span>
                    <input type="number" min="0" data-product="SLICED BREAD SMALL WHITE">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SLICED BREAD SMALL BROWN" data-ml="സ്മോള്‍ ബ്രൗണ്‍ സ്ലൈസ്ഡ് ബ്രെഡ്">SLICED BREAD SMALL BROWN</span>
                    <input type="number" min="0" data-product="SLICED BREAD SMALL BROWN">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="MILK BREAD SMALL" data-ml="സ്മോള്‍ മില്‍ക്ക് ബ്രെഡ്">MILK BREAD SMALL</span>
                    <input type="number" min="0" data-product="MILK BREAD SMALL">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="MILK BREAD BIG" data-ml="ബിഗ് മില്‍ക്ക് ബ്രെഡ്">MILK BREAD BIG</span>
                    <input type="number" min="0" data-product="MILK BREAD BIG">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="TASTY BREAD" data-ml="ടേസ്റ്റി ബ്രെഡ്">TASTY BREAD</span>
                    <input type="number" min="0" data-product="TASTY BREAD">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="FINGER ROLL 1X4" data-ml="ഫിംഗര്‍ റോള്‍ 1X4">FINGER ROLL 1X4</span>
                    <input type="number" min="0" data-product="FINGER ROLL 1X4">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="FINGER ROLL KUTTY 1X6" data-ml="ഫിംഗര്‍ റോള്‍ കുട്ടി 1X6">FINGER ROLL KUTTY 1X6</span>
                    <input type="number" min="0" data-product="FINGER ROLL KUTTY 1X6">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="BURGER BUN 1X4" data-ml="ബര്‍ഗര്‍ ബണ്‍ 1X4">BURGER BUN 1X4</span>
                    <input type="number" min="0" data-product="BURGER BUN 1X4">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="BURGER BUN 1X6" data-ml="ബര്‍ഗര്‍ ബണ്‍ 1X6">BURGER BUN 1X6</span>
                    <input type="number" min="0" data-product="BURGER BUN 1X6">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="PAV BHAJI" data-ml="പാവ് ഭാജി">PAV BHAJI</span>
                    <input type="number" min="0" data-product="PAV BHAJI">
                </div>
            </div>
        </div>
        
        <!-- SNACKS CATEGORY -->
        <div class="category-container" id="snacksCategory">
            <div class="category-header" onclick="toggleCategory('snackItems')">
                <h2><span id="snacksTitle">SNACKS</span> <span class="category-toggle">+</span></h2>
            </div>
            <div class="category-content" id="snackItems">
                <div class="item-with-qty">
                    <span class="item-name" data-en="EGG PUFF" data-ml="എഗ് പഫ്">EGG PUFF</span>
                    <input type="number" min="0" data-product="EGG PUFF">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CHICKEN PUFF" data-ml="ചിക്കന്‍ പഫ്">CHICKEN PUFF</span>
                    <input type="number" min="0" data-product="CHICKEN PUFF">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="VEG PUFF" data-ml="വെജ് പഫ്">VEG PUFF</span>
                    <input type="number" min="0" data-product="VEG PUFF">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CUTLET" data-ml="കട്ലറ്റ്">CUTLET</span>
                    <input type="number" min="0" data-product="CUTLET">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CHICKEN ROLL FRY" data-ml="ചിക്കന്‍ റോള്‍ ഫ്രൈ">CHICKEN ROLL FRY</span>
                    <input type="number" min="0" data-product="CHICKEN ROLL FRY">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="IRANI VEG" data-ml="ഇറാനി വെജ്">IRANI VEG</span>
                    <input type="number" min="0" data-product="IRANI VEG">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="IRANI TRIANGLE" data-ml="ഇറാനി ട്രയാംഗിള്‍">IRANI TRIANGLE</span>
                    <input type="number" min="0" data-product="IRANI TRIANGLE">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="IRANI ROLL" data-ml="ഇറാനി റോള്‍">IRANI ROLL</span>
                    <input type="number" min="0" data-product="IRANI ROLL">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SPANISH CHICKEN SANDWICH" data-ml="സ്പാനിഷ് ചിക്കന്‍ സാന്ഡ്വിച്ച്">SPANISH CHICKEN SANDWICH</span>
                    <input type="number" min="0" data-product="SPANISH CHICKEN SANDWICH">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CHICKEN MAYONNISE ROLL" data-ml="ചിക്കന്‍ മയോനൈസ് റോള്‍">CHICKEN MAYONNISE ROLL</span>
                    <input type="number" min="0" data-product="CHICKEN MAYONNISE ROLL">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="EGG SANDWICH" data-ml="എഗ് സാന്ഡ്വിച്ച്">EGG SANDWICH</span>
                    <input type="number" min="0" data-product="EGG SANDWICH">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SAUSAGE ROLL" data-ml="സോസേജ് റോള്‍">SAUSAGE ROLL</span>
                    <input type="number" min="0" data-product="SAUSAGE ROLL">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="BAJA (CREAM) BUN" data-ml="ബാജ (ക്രീം) ബണ്‍">BAJA (CREAM) BUN</span>
                    <input type="number" min="0" data-product="BAJA (CREAM) BUN">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CROISSANT CHEESE" data-ml="ക്രോയിസന്റ് ചീസ്">CROISSANT CHEESE</span>
                    <input type="number" min="0" data-product="CROISSANT CHEESE">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CROISSANT ZAATAR" data-ml="ക്രോയിസന്റ് സാത്താര്‍">CROISSANT ZAATAR</span>
                    <input type="number" min="0" data-product="CROISSANT ZAATAR">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SULTHANA" data-ml="സുല്‍ത്താന">SULTHANA</span>
                    <input type="number" min="0" data-product="SULTHANA">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="BANANA PUFF" data-ml="ബനാന പഫ്">BANANA PUFF</span>
                    <input type="number" min="0" data-product="BANANA PUFF">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="TAMER BUN" data-ml="താമര്‍ ബണ്‍">TAMER BUN</span>
                    <input type="number" min="0" data-product="TAMER BUN">
                </div>
            </div>
        </div>
      
        <div class="category-container" id="1x6Category">
    <div class="category-header" onclick="toggleCategory('1x6Items')">
        <h2><span>1X6</span> <span class="category-toggle">+</span></h2>
    </div>
    <div class="category-content" id="1x6Items">
        <div class="item-with-qty"><span class="item-name" data-en="CREAM ROLL" data-ml="ക്രീം റോൾ">CREAM ROLL</span><input type="number" min="0" data-product="CREAM ROLL"></div>
        <div class="item-with-qty"><span class="item-name" data-en="DONUTS" data-ml="ഡോണട്ട്">DONUTS</span><input type="number" min="0" data-product="DONUTS"></div>
        <div class="item-with-qty"><span class="item-name" data-en="TEA CAKE (PAPER)" data-ml="ടീ കേക്ക് (പേപ്പർ)">TEA CAKE (PAPER)</span><input type="number" min="0" data-product="TEA CAKE (PAPER)"></div>
        <div class="item-with-qty"><span class="item-name" data-en="YELLOW CAKE (OIL)" data-ml="മഞ്ഞ കേക്ക് (ഓയിൽ)">YELLOW CAKE (OIL)</span><input type="number" min="0" data-product="YELLOW CAKE (OIL)"></div>
        <div class="item-with-qty"><span class="item-name" data-en="WHITE CAKE (OIL)" data-ml="വെള്ളി കേക്ക് (ഓയിൽ)">WHITE CAKE (OIL)</span><input type="number" min="0" data-product="WHITE CAKE (OIL)"></div>
        <div class="item-with-qty"><span class="item-name" data-en="CUP CAKE" data-ml="കപ്പ് കേക്ക്">CUP CAKE</span><input type="number" min="0" data-product="CUP CAKE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="WHITE BUTTER CAKE" data-ml="വെള്ളി ബട്ടർ കേക്ക്">WHITE BUTTER CAKE</span><input type="number" min="0" data-product="WHITE BUTTER CAKE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="YELLOW BUTTER CAKE" data-ml="മഞ്ഞ ബട്ടർ കേക്ക്">YELLOW BUTTER CAKE</span><input type="number" min="0" data-product="YELLOW BUTTER CAKE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="CHOCOLATE BUTTER" data-ml="ചോക്ലേറ്റ് ബട്ടർ">CHOCOLATE BUTTER</span><input type="number" min="0" data-product="CHOCOLATE BUTTER"></div>
        <div class="item-with-qty"><span class="item-name" data-en="JAM ROLE" data-ml="ജാം റോൾ">JAM ROLE</span><input type="number" min="0" data-product="JAM ROLE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="CLUB CAKE / MANGO CAKE" data-ml="ക്ലബ് / മാങ്ങ കേക്ക്">CLUB CAKE / MANGO CAKE</span><input type="number" min="0" data-product="CLUB CAKE / MANGO CAKE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="P CAKE / PUDDING" data-ml="പി കേക്ക് / പുഡിംഗ്">P CAKE / PUDDING</span><input type="number" min="0" data-product="P CAKE / PUDDING"></div>
        <div class="item-with-qty"><span class="item-name" data-en="MARBLE CAKE" data-ml="മാർബിൾ കേക്ക്">MARBLE CAKE</span><input type="number" min="0" data-product="MARBLE CAKE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="JAM CAKE CREAM" data-ml="ജാം കേക്ക് ക്രീം">JAM CAKE CREAM</span><input type="number" min="0" data-product="JAM CAKE CREAM"></div>
        <div class="item-with-qty"><span class="item-name" data-en="JAM CAKE COCONUT" data-ml="ജാം കേക്ക് തേങ്ങ">JAM CAKE COCONUT</span><input type="number" min="0" data-product="JAM CAKE COCONUT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="JAM CAKE PEANUT" data-ml="ജാം കേക്ക് പീനട്ട്">JAM CAKE PEANUT</span><input type="number" min="0" data-product="JAM CAKE PEANUT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="SQUARE CUP CAKE" data-ml="സ്ക്വയർ കപ്പ് കേക്ക്">SQUARE CUP CAKE</span><input type="number" min="0" data-product="SQUARE CUP CAKE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="ROUND FRY" data-ml="റൗണ്ട് ഫ്രൈ">ROUND FRY</span><input type="number" min="0" data-product="ROUND FRY"></div>
    </div>
    </div>

      <div class="category-container" id="1x12Category">
    <div class="category-header" onclick="toggleCategory('1x12Items')">
        <h2><span>1X12</span> <span class="category-toggle">+</span></h2>
    </div>
    <div class="category-content" id="1x12Items">
        <div class="item-with-qty"><span class="item-name" data-en="COCONUT BISCUIT" data-ml="തേങ്ങ ബിസ്കറ്റ്">COCONUT BISCUIT</span><input type="number" min="0" data-product="COCONUT BISCUIT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="WHITE PUDDING PEANUT" data-ml="വെള്ളി പുഡിംഗ് പീനട്ട്">WHITE PUDDING PEANUT</span><input type="number" min="0" data-product="WHITE PUDDING PEANUT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="COCONUT CAKE" data-ml="തേങ്ങ കേക്ക്">COCONUT CAKE</span><input type="number" min="0" data-product="COCONUT CAKE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="MARBLE CAKE" data-ml="മാർബിൾ കേക്ക്">MARBLE CAKE</span><input type="number" min="0" data-product="MARBLE CAKE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="CAKE TOAST" data-ml="കേക്ക് ടോസ്റ്റ്">CAKE TOAST</span><input type="number" min="0" data-product="CAKE TOAST"></div>
        <div class="item-with-qty"><span class="item-name" data-en="CUP CAKE 1X12" data-ml="കപ്പ് കേക്ക് 1X12">CUP CAKE 1X12</span><input type="number" min="0" data-product="CUP CAKE 1X12"></div>
        <div class="item-with-qty"><span class="item-name" data-en="TEA CAKE (PAPER)" data-ml="ടീ കേക്ക് (പേപ്പർ)">TEA CAKE (PAPER)</span><input type="number" min="0" data-product="TEA CAKE (PAPER)"></div>
        <div class="item-with-qty"><span class="item-name" data-en="SEMOLINA CAKE" data-ml="രവ കേക്ക്">SEMOLINA CAKE</span><input type="number" min="0" data-product="SEMOLINA CAKE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="KAJA" data-ml="കജ">KAJA</span><input type="number" min="0" data-product="KAJA"></div>
    </div>
</div>

      <div class="category-container" id="1x10Category">
    <div class="category-header" onclick="toggleCategory('1x10Items')">
        <h2><span>1X10</span> <span class="category-toggle">+</span></h2>
    </div>
    <div class="category-content" id="1x10Items">
        <div class="item-with-qty"><span class="item-name" data-en="CRISPY ROLL" data-ml="ക്രിസ്പി റോൾ">CRISPY ROLL</span><input type="number" min="0" data-product="CRISPY ROLL"></div>
        <div class="item-with-qty"><span class="item-name" data-en="TABOOK BISCUIT" data-ml="തബൂക്ക് ബിസ്കറ്റ്">TABOOK BISCUIT</span><input type="number" min="0" data-product="TABOOK BISCUIT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="MOBILE BISCUIT" data-ml="മൊബൈൽ ബിസ്കറ്റ്">MOBILE BISCUIT</span><input type="number" min="0" data-product="MOBILE BISCUIT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="BISCUITS 1X6" data-ml="ബിസ്കറ്റുകൾ 1X6">BISCUITS 1X6</span><input type="number" min="0" data-product="BISCUITS 1X6"></div>
        <div class="item-with-qty"><span class="item-name" data-en="FLOWER BISCUIT" data-ml="പൂവ് ബിസ്കറ്റ്">FLOWER BISCUIT</span><input type="number" min="0" data-product="FLOWER BISCUIT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="SUGAR BISCUIT" data-ml="പഞ്ചസാര ബിസ്കറ്റ്">SUGAR BISCUIT</span><input type="number" min="0" data-product="SUGAR BISCUIT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="PEANUT BISCUIT" data-ml="പീനട്ട് ബിസ്കറ്റ്">PEANUT BISCUIT</span><input type="number" min="0" data-product="PEANUT BISCUIT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="SQUARE BISCUIT" data-ml="സ്ക്വയർ ബിസ്കറ്റ്">SQUARE BISCUIT</span><input type="number" min="0" data-product="SQUARE BISCUIT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="TABOOK" data-ml="തബൂക്ക്">TABOOK</span><input type="number" min="0" data-product="TABOOK"></div>
    </div>
</div>

      <div class="category-container" id="bangladeshiPastriesCategory">
    <div class="category-header" onclick="toggleCategory('bangladeshiPastriesItems')">
        <h2><span>Bangladeshi Pastries</span> <span class="category-toggle">+</span></h2>
    </div>
    <div class="category-content" id="bangladeshiPastriesItems">
        <div class="item-with-qty"><span class="item-name" data-en="CREAM BUN - I PHONE" data-ml="ക്രീം ബൺ - ഐ ഫോൺ">CREAM BUN - I PHONE</span><input type="number" min="0" data-product="CREAM BUN - I PHONE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="BUTTER BUN" data-ml="ബട്ടർ ബൺ">BUTTER BUN</span><input type="number" min="0" data-product="BUTTER BUN"></div>
        <div class="item-with-qty"><span class="item-name" data-en="CUSTARD BUN" data-ml="കസ്റ്റാർഡ് ബൺ">CUSTARD BUN</span><input type="number" min="0" data-product="CUSTARD BUN"></div>
        <div class="item-with-qty"><span class="item-name" data-en="BELT" data-ml="ബെൽറ്റ്">BELT</span><input type="number" min="0" data-product="BELT"></div>
        <div class="item-with-qty"><span class="item-name" data-en="SULTHANA BIG" data-ml="സുൽത്താന ബിഗ്">SULTHANA BIG</span><input type="number" min="0" data-product="SULTHANA BIG"></div>
        <div class="item-with-qty"><span class="item-name" data-en="PATEES TRIANGLE" data-ml="പറ്റീസ് ട്രയാംഗിൾ">PATEES TRIANGLE</span><input type="number" min="0" data-product="PATEES TRIANGLE"></div>
        <div class="item-with-qty"><span class="item-name" data-en="DRY POPS LONG" data-ml="ഡ്രൈ പോപ്സ് ലോംഗ്">DRY POPS LONG</span><input type="number" min="0" data-product="DRY POPS LONG"></div>
        <div class="item-with-qty"><span class="item-name" data-en="SWEET PORATTA" data-ml="സ്വീറ്റ് പൊറോട്ട">SWEET PORATTA</span><input type="number" min="0" data-product="SWEET PORATTA"></div>
        <div class="item-with-qty"><span class="item-name" data-en="COCONUT BUN" data-ml="തേങ്ങ ബൺ">COCONUT BUN</span><input type="number" min="0" data-product="COCONUT BUN"></div>
        <div class="item-with-qty"><span class="item-name" data-en="SWEET CONE PUFF" data-ml="സ്വീറ്റ് കോൺ പഫ്">SWEET CONE PUFF</span><input type="number" min="0" data-product="SWEET CONE PUFF"></div>
        <div class="item-with-qty"><span class="item-name" data-en="CONE PUFF LONG" data-ml="കോൺ പഫ് ലോംഗ്">CONE PUFF LONG</span><input type="number" min="0" data-product="CONE PUFF LONG"></div>
    </div>
</div>

        <!-- BISCUITS & CAKES CATEGORY -->
        <div class="category-container" id="biscuitsCategory">
            <div class="category-header" onclick="toggleCategory('biscuitItems')">
                <h2><span id="biscuitsTitle">BISCUITS & CAKES</span> <span class="category-toggle">+</span></h2>
            </div>
            <div class="category-content" id="biscuitItems">
                <div class="item-with-qty">
                    <span class="item-name" data-en="CHICKEN ZINGER BURGER" data-ml="ചിക്കന്‍ സിംഗര്‍ ബര്‍ഗര്‍">CHICKEN ZINGER BURGER</span>
                    <input type="number" min="0" data-product="CHICKEN ZINGER BURGER">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="MINI CROISSANT 1X5" data-ml="മിനി ക്രോയിസന്റ് 1X5">MINI CROISSANT 1X5</span>
                    <input type="number" min="0" data-product="MINI CROISSANT 1X5">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SAMOSA" data-ml="സമോസ">SAMOSA</span>
                    <input type="number" min="0" data-product="SAMOSA">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SWEET BUN" data-ml="സ്വീറ്റ് ബണ്‍">SWEET BUN</span>
                    <input type="number" min="0" data-product="SWEET BUN">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SLICED CAKE PCS" data-ml="സ്ലൈസ്ഡ് കേക്ക് പീസ്">SLICED CAKE PCS</span>
                    <input type="number" min="0" data-product="SLICED CAKE PCS">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="MUFFINS PCS" data-ml="മഫിന്‍ പീസ്">MUFFINS PCS</span>
                    <input type="number" min="0" data-product="MUFFINS PCS">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CRISPY ROLL" data-ml="ക്രിസ്പി റോള്‍">CRISPY ROLL</span>
                    <input type="number" min="0" data-product="CRISPY ROLL">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="TABOOK BISCUIT" data-ml="തബൂക്ക് ബിസ്കറ്റ്">TABOOK BISCUIT</span>
                    <input type="number" min="0" data-product="TABOOK BISCUIT">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="MOBILE BISCUIT" data-ml="മൊബൈല്‍ ബിസ്കറ്റ്">MOBILE BISCUIT</span>
                    <input type="number" min="0" data-product="MOBILE BISCUIT">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="FLOWER BISCUIT 1X6" data-ml="ഫ്ലവര്‍ ബിസ്കറ്റ് 1X6">FLOWER BISCUIT 1X6</span>
                    <input type="number" min="0" data-product="FLOWER BISCUIT 1X6">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SUGAR BISCUIT" data-ml="ഷുഗര്‍ ബിസ്കറ്റ്">SUGAR BISCUIT</span>
                    <input type="number" min="0" data-product="SUGAR BISCUIT">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="PEANUT BISCUIT" data-ml="പീനട്ട് ബിസ്കറ്റ്">PEANUT BISCUIT</span>
                    <input type="number" min="0" data-product="PEANUT BISCUIT">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SQUARE BISCUIT" data-ml="സ്ക്വയര്‍ ബിസ്കറ്റ്">SQUARE BISCUIT</span>
                    <input type="number" min="0" data-product="SQUARE BISCUIT">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CREAM BUN -I PHONE" data-ml="ക്രീം ബണ്‍ -ഐ ഫോണ്‍">CREAM BUN -I PHONE</span>
                    <input type="number" min="0" data-product="CREAM BUN -I PHONE">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="BUTTER BUN" data-ml="ബട്ടര്‍ ബണ്‍">BUTTER BUN</span>
                    <input type="number" min="0" data-product="BUTTER BUN">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="CUSTARD BUN" data-ml="കസ്റ്റര്‍ഡ് ബണ്‍">CUSTARD BUN</span>
                    <input type="number" min="0" data-product="CUSTARD BUN">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="BELT" data-ml="ബെല്‍റ്റ്">BELT</span>
                    <input type="number" min="0" data-product="BELT">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="SULTHANA BIG" data-ml="സുല്‍ത്താന ബിഗ്">SULTHANA BIG</span>
                    <input type="number" min="0" data-product="SULTHANA BIG">
                </div>
            </div>
        </div>
        
        <!-- OTHERS CATEGORY -->
        <div class="category-container" id="othersCategory">
            <div class="category-header" onclick="toggleCategory('otherItems')">
                <h2><span id="othersTitle">OTHERS</span> <span class="category-toggle">+</span></h2>
            </div>
            <div class="category-content" id="otherItems">
                <div class="item-with-qty">
                    <span class="item-name" data-en="PIZZA SMALL VEG" data-ml="സ്മോള്‍ വെജ് പിസ്സ">PIZZA SMALL VEG</span>
                    <input type="number" min="0" data-product="PIZZA SMALL VEG">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="PIZZA LARGE VEG" data-ml="ലാര്ജ് വെജ് പിസ്സ">PIZZA LARGE VEG</span>
                    <input type="number" min="0" data-product="PIZZA LARGE VEG">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="WHITE LADOO 1X12" data-ml="വൈറ്റ് ലഡു 1X12">WHITE LADOO 1X12</span>
                    <input type="number" min="0" data-product="WHITE LADOO 1X12">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="GULAB JAM 1X6" data-ml="ഗുലാബ് ജാം 1X6">GULAB JAM 1X6</span>
                    <input type="number" min="0" data-product="GULAB JAM 1X6">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="GULAB JAM CREAM 1X12" data-ml="ഗുലാബ് ജാം ക്രീം 1X12">GULAB JAM CREAM 1X12</span>
                    <input type="number" min="0" data-product="GULAB JAM CREAM 1X12">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="LADOO 1X25" data-ml="ലഡു 1X25">LADOO 1X25</span>
                    <input type="number" min="0" data-product="LADOO 1X25">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="WHITE BURF 1X12" data-ml="വൈറ്റ് ബര്‍ഫ് 1X12">WHITE BURF 1X12</span>
                    <input type="number" min="0" data-product="WHITE BURF 1X12">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="WHITE BURF 1X6" data-ml="വൈറ്റ് ബര്‍ഫ് 1X6">WHITE BURF 1X6</span>
                    <input type="number" min="0" data-product="WHITE BURF 1X6">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="GUJIYA 1X6" data-ml="ഗുജിയ 1X6">GUJIYA 1X6</span>
                    <input type="number" min="0" data-product="GUJIYA 1X6">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="PATEESA" data-ml="പടീസ">PATEESA</span>
                    <input type="number" min="0" data-product="PATEESA">
                </div>
                <div class="item-with-qty">
                    <span class="item-name" data-en="HALWA" data-ml="ഹല്വ">HALWA</span>
                    <input type="number" min="0" data-product="HALWA">
                </div>
            </div>
        </div>
        
        <a href="#" class="floating-back-top">↑</a>
        <button class="submit-btn" onclick="generateOrder()" id="submitOrderBtn">SUBMIT ORDER</button>
    </div>
    
    <script>
        // Language toggle functionality
        let currentLanguage = 'en';
        const translations = {
            en: {
                formTitle: "VANSALES ORDER FORM",
                customerInfoTitle: "CUSTOMER INFORMATION",
                customerNamePlaceholder: "Customer Name",
                deliveryDatePlaceholder: "Delivery Date (DD/MM/YYYY)",
                loadLastOrderBtn: "Load Last Order",
                clearFormBtn: "Clear Form",
                searchPlaceholder: "Search products...",
                breadsTitle: "BREADS",
                snacksTitle: "SNACKS",
                biscuitsTitle: "BISCUITS & CAKES",
                othersTitle: "OTHERS",
                submitOrderBtn: "SUBMIT ORDER",
                languageToggle: "മലയാളം"
            },
            ml: {
                formTitle: "വാൻസെയിൽസ് ഓർഡർ ഫോം",
                customerInfoTitle: "ഉപഭോക്തൃ വിവരങ്ങൾ",
                customerNamePlaceholder: "ഉപഭോക്താവിന്റെ പേര്",
                deliveryDatePlaceholder: "ഡെലിവറി തീയതി (DD/MM/YYYY)",
                loadLastOrderBtn: "അവസാന ഓർഡർ ലോഡ് ചെയ്യുക",
                clearFormBtn: "ഫോം ക്ലിയർ ചെയ്യുക",
                searchPlaceholder: "ഉൽപ്പന്നങ്ങൾ തിരയുക...",
                breadsTitle: "ബ്രെഡ്",
                snacksTitle: "സ്നാക്സ്",
                biscuitsTitle: "ബിസ്കറ്റ് & കേക്ക്",
                othersTitle: "മറ്റുള്ളവ",
                submitOrderBtn: "ഓർഡർ സമർപ്പിക്കുക",
                languageToggle: "English"
            }
        };

        // Add event listeners when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Load any saved customer info
            const savedCustomerName = localStorage.getItem('customerName');
            if (savedCustomerName) {
                document.getElementById('customerName').value = savedCustomerName;
            }
            
            // Set default delivery date to tomorrow
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const dd = String(tomorrow.getDate()).padStart(2, '0');
            const mm = String(tomorrow.getMonth() + 1).padStart(2, '0');
            const yyyy = tomorrow.getFullYear();
            const tomorrowFormatted = dd + '/' + mm + '/' + yyyy;
            
            const savedDeliveryDate = localStorage.getItem('deliveryDate') || tomorrowFormatted;
            document.getElementById('deliveryDate').value = savedDeliveryDate;
            
            // Add search functionality
            document.getElementById('searchInput').addEventListener('input', searchProducts);
            
            // Auto-save inputs as they change
            const allInputs = document.querySelectorAll('input');
            allInputs.forEach(input => {
                input.addEventListener('change', saveFormState);
            });

            // Language toggle button
            document.getElementById('languageToggle').addEventListener('click', toggleLanguage);

            // Check for saved language preference
            const savedLanguage = localStorage.getItem('language') || 'en';
            if (savedLanguage === 'ml') {
                toggleLanguage();
            }
        });
        
        // Toggle between English and Malayalam
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'ml' : 'en';
            localStorage.setItem('language', currentLanguage);
            
            // Update UI elements
            document.getElementById('formTitle').textContent = translations[currentLanguage].formTitle;
            document.getElementById('customerInfoTitle').textContent = translations[currentLanguage].customerInfoTitle;
            document.getElementById('customerName').placeholder = translations[currentLanguage].customerNamePlaceholder;
            document.getElementById('deliveryDate').placeholder = translations[currentLanguage].deliveryDatePlaceholder;
            document.getElementById('loadLastOrderBtn').textContent = translations[currentLanguage].loadLastOrderBtn;
            document.getElementById('clearFormBtn').textContent = translations[currentLanguage].clearFormBtn;
            document.getElementById('searchInput').placeholder = translations[currentLanguage].searchPlaceholder;
            document.getElementById('breadsTitle').textContent = translations[currentLanguage].breadsTitle;
            document.getElementById('snacksTitle').textContent = translations[currentLanguage].snacksTitle;
            document.getElementById('biscuitsTitle').textContent = translations[currentLanguage].biscuitsTitle;
            document.getElementById('othersTitle').textContent = translations[currentLanguage].othersTitle;
            document.getElementById('submitOrderBtn').textContent = translations[currentLanguage].submitOrderBtn;
            document.getElementById('languageToggle').textContent = translations[currentLanguage].languageToggle;
            
            // Toggle Malayalam font class
            document.body.classList.toggle('malayalam');
            
            // Update all product names
            const itemNames = document.querySelectorAll('.item-name');
            itemNames.forEach(item => {
                const englishName = item.dataset.en;
                const malayalamName = item.dataset.ml;
                item.textContent = currentLanguage === 'en' ? englishName : malayalamName;
            });
        }
        
        // Toggle category visibility
        function toggleCategory(categoryId) {
            const categoryDiv = document.getElementById(categoryId);
            const parentContainer = categoryDiv.parentElement;
            parentContainer.classList.toggle('active');
            
            // Update toggle indicator
            const toggleSpan = parentContainer.querySelector('.category-toggle');
            if (parentContainer.classList.contains('active')) {
                toggleSpan.textContent = '-';
            } else {
                toggleSpan.textContent = '+';
            }
        }
        
        // Save form state to localStorage
        function saveFormState() {
            // Save customer info
            const customerName = document.getElementById('customerName').value;
            const deliveryDate = document.getElementById('deliveryDate').value;
            
            localStorage.setItem('customerName', customerName);
            localStorage.setItem('deliveryDate', deliveryDate);
            
            // Save product quantities
            const quantityInputs = document.querySelectorAll('input[type="number"]');
            const orderItems = {};
            
            quantityInputs.forEach(input => {
                const productName = input.dataset.product;
                const quantity = input.value;
                if (quantity && quantity > 0) {
                    orderItems[productName] = quantity;
                }
            });
            
            localStorage.setItem('lastOrder', JSON.stringify(orderItems));
        }
        
        // Load last order
        function loadLastOrder() {
            const lastOrder = JSON.parse(localStorage.getItem('lastOrder') || '{}');
            
            // Clear all current quantities
            const quantityInputs = document.querySelectorAll('input[type="number"]');
            quantityInputs.forEach(input => {
                input.value = '';
            });
            
            // Fill in saved quantities
            for (const [product, quantity] of Object.entries(lastOrder)) {
                const input = document.querySelector(`input[data-product="${product}"]`);
                if (input) {
                    input.value = quantity;
                }
            }
            
            alert(currentLanguage === 'en' ? 'Last order loaded successfully!' : 'അവസാന ഓർഡർ വിജയകരമായി ലോഡ് ചെയ്തു!');
        }
        
        // Clear the form
        function clearForm() {
            const quantityInputs = document.querySelectorAll('input[type="number"]');
            quantityInputs.forEach(input => {
                input.value = '';
            });
            
            // Keep customer name but reset delivery date to tomorrow
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const dd = String(tomorrow.getDate()).padStart(2, '0');
            const mm = String(tomorrow.getMonth() + 1).padStart(2, '0');
            const yyyy = tomorrow.getFullYear();
            document.getElementById('deliveryDate').value = dd + '/' + mm + '/' + yyyy;
            
            alert(currentLanguage === 'en' ? 'Form cleared!' : 'ഫോം ക്ലിയർ ചെയ്തു!');
        }
        
        // Search products
        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const itemContainers = document.querySelectorAll('.item-with-qty');
            
            if (searchTerm === '') {
                // Reset all highlights and category visibility
                itemContainers.forEach(container => {
                    container.style.display = 'flex';
                    const nameElement = container.querySelector('.item-name');
                    nameElement.innerHTML = nameElement.textContent;
                });
                
                // Collapse all categories
                document.querySelectorAll('.category-container').forEach(category => {
                    category.classList.remove('active');
                    const toggleSpan = category.querySelector('.category-toggle');
                    toggleSpan.textContent = '+';
                });
                
                return;
            }
            
            let foundItems = false;
            
            // Search through all items
            itemContainers.forEach(container => {
                const nameElement = container.querySelector('.item-name');
                const itemName = nameElement.textContent.toLowerCase();
                
                if (itemName.includes(searchTerm)) {
                    // Show the item and highlight the text
                    container.style.display = 'flex';
                    const highlightedText = nameElement.textContent.replace(
                        new RegExp(searchTerm, 'gi'),
                        match => `<span class="highlight">${match}</span>`
                    );
                    nameElement.innerHTML = highlightedText;
                    
                    // Expand the category
                    const categoryContent = container.closest('.category-content');
                    const categoryContainer = categoryContent.parentElement;
                    categoryContainer.classList.add('active');
                    
                    // Update toggle indicator
                    const toggleSpan = categoryContainer.querySelector('.category-toggle');
                    toggleSpan.textContent = '-';
                    
                    foundItems = true;
                } else {
                    // Hide the item
                    container.style.display = 'none';
                    nameElement.innerHTML = nameElement.textContent; // Reset any previous highlighting
                }
            });
            
            if (!foundItems) {
                // If no items found, show all categories collapsed
                document.querySelectorAll('.category-container').forEach(category => {
                    category.classList.remove('active');
                    const toggleSpan = category.querySelector('.category-toggle');
                    toggleSpan.textContent = '+';
                });
            }
        }
        
        // Generate and send the order
        function generateOrder() {
            // Save the current state
            saveFormState();
            
            const customerName = document.getElementById('customerName').value || (currentLanguage === 'en' ? 'Not provided' : 'നൽകിയിട്ടില്ല');
            const deliveryDate = document.getElementById('deliveryDate').value || (currentLanguage === 'en' ? 'Not provided' : 'നൽകിയിട്ടില്ല');
            
            // Create the order message header
            let orderSummary = currentLanguage === 'en' ? `*NEW ORDER*\n\n` : `*പുതിയ ഓർഡർ*\n\n`;
            orderSummary += currentLanguage === 'en' ? `*Customer Name:* ${customerName}\n` : `*ഉപഭോക്താവിന്റെ പേര്:* ${customerName}\n`;
            orderSummary += currentLanguage === 'en' ? `*Delivery Date:* ${deliveryDate}\n\n` : `*ഡെലിവറി തീയതി:* ${deliveryDate}\n\n`;
            
            // Create Excel-like table format
            orderSummary += "```\n";  // Use code block for fixed-width
            orderSummary += currentLanguage === 'en' ? "| ITEM | QTY |\n" : "| ഇനം | എണ്ണം |\n";
            orderSummary += "|------|-----|\n";
            
            // Collect and sort all items with quantity > 0
            const orderedItems = [];
            const quantityInputs = document.querySelectorAll('input[type="number"]');
            
            quantityInputs.forEach(input => {
                const quantity = parseInt(input.value);
                if (quantity > 0) {
                    const itemName = input.dataset.product;
                    orderedItems.push({ name: itemName, qty: quantity });
                }
            });
            
            // Sort items by category
            const categories = {
                'BREADS': document.querySelectorAll('#breadItems .item-with-qty input'),
                'SNACKS': document.querySelectorAll('#snackItems .item-with-qty input'),
                'BISCUITS & CAKES': document.querySelectorAll('#biscuitItems .item-with-qty input'),
                'OTHERS': document.querySelectorAll('#otherItems .item-with-qty input')
            };
            
            // Add items to table by category
            let currentCategory = '';
            let hasItems = false;
            
            for (const [categoryName, categoryItems] of Object.entries(categories)) {
                let categoryHasItems = false;
                
                // Check if category has any items with quantity
                categoryItems.forEach(input => {
                    if (input.value && parseInt(input.value) > 0) {
                        categoryHasItems = true;
                        hasItems = true;
                    }
                });
                
                // Add category header if it has items
                if (categoryHasItems) {
                    const translatedCategory = currentLanguage === 'en' ? 
                        categoryName : 
                        translations.ml[categoryName.toLowerCase().replace(' & ', '').replace(' ', '') + 'Title'];
                    
                    orderSummary += `| *${translatedCategory}* | |\n`;
                    
                    // Add items in this category
                    categoryItems.forEach(input => {
                        const quantity = parseInt(input.value);
                        if (quantity > 0) {
                            const itemName = input.dataset.product;
                            const itemElement = document.querySelector(`.item-name[data-product="${itemName}"]`);
                            const displayName = currentLanguage === 'en' ? itemName : itemElement.dataset.ml;
                            orderSummary += `| ${displayName} | ${quantity} |\n`;
                        }
                    });
                }
            }
            
            // Close the table
            orderSummary += "```\n";
            
            // If no items were added, inform the user
            if (!hasItems) {
                alert(currentLanguage === 'en' ? "Please add at least one item to your order." : "ദയവായി നിങ്ങളുടെ ഓർഡറിൽ കുറഞ്ഞത് ഒരു ഇനമെങ്കിലും ചേർക്കുക.");
                return;
            }
            
            // Add a phone number (preset to the required one)
            const phoneNumber = "971581899713";
            
            // Create WhatsApp link with the phone number
            const encodedMessage = encodeURIComponent(orderSummary);
            const whatsappLink = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
            
            // Open in new tab
            window.open(whatsappLink, '_blank');
        }
    </script>
<p style="border-radius: 8px; text-align: center; font-size: 12px; color: #fff; margin-top: 16px;position: fixed; left: 8px; bottom: 8px; z-index: 10; background: rgba(0, 0, 0, 0.8); padding: 4px 8px;">Made with <img src="https://enzostvs-deepsite.hf.space/logo.svg" alt="DeepSite Logo" style="width: 16px; height: 16px; vertical-align: middle;display:inline-block;margin-right:3px;filter:brightness(0) invert(1);"><a href="https://enzostvs-deepsite.hf.space" style="color: #fff;text-decoration: underline;" target="_blank" >DeepSite</a> - 🧬 <a href="https://enzostvs-deepsite.hf.space?remix=dispatchal76/vansales" style="color: #fff;text-decoration: underline;" target="_blank" >Remix</a></p></body>
</html>
